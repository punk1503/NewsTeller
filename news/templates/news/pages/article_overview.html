{% extends 'news/base/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'news/css/article_overview.css' %}">
{% endblock %}

{% block content %}
<div class="article__main">
	<h2>{{ article.article_title }}</h2>
	<!--TODO: add href to the author profile-->
	<span><a class="author__link" href="#">{{ article.author.first_name }} {{ article.author.last_name }}</a> - {{ article.publication_date }}</span>
	<hr>
	<p>{{ article.article_text }}</p>
	<!--TODO: add likes and comments-->
	<span>Likes:<span id="likes_span">{{ article.likers.all.count }}</span></span>
	{% if user in article.likers.all %}
		<span>You liked this article</span>
	{% endif %}
	{% if user.is_authenticated %}
		<form method="POST">
			{% csrf_token %}
			<br>
			<button type="submit" class="like-btn">Like</button>
		</form>
		<button onclick="send_request({{ user.id }})">Ajax Like</button>
	{% endif %}
</div>
<script>
	window.CSRF_TOKEN = `{{ csrf_token }}`
</script>
<script src="{% static 'news/js/article_overview.js' %}"></script>
{% endblock %}
